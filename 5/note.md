[TOC]

# 第五章 标准I/O库
## 5.1 引言
## 5.2 流和FILE对象
### 摘录
> 对于标准I/O库，操作是围绕**流**（stream）进行的。当用标准IO库打开或创建一个文件时，我们已经使一个流与一个文件相关联。

> 流的定向（stream's orientation）:
> - freopen清除一个流的定向
> - fwide设置流的定向

> FILE对象，通常是一个结构，包含了标准IO库为管理流需要的所有信息，包括
> - 用于实际IO的文件描述符
> - 指向用于该流缓冲区的指针
> - 缓冲区的长度
> - 当前缓冲区的字符数
>- 出错标志
>- 等等

> 应用程序没有必要检验FILE对象。

> 指向FILE对象的指针称为文件指针

## 5.3 标准输入、标准输出和标准错误
### 摘录
> 预定义；
> stdin; stdout; stderr

## 5.4 缓冲
### 摘录
> 标准IO库提供缓冲的目的是**尽可能减少使用read和write调用的次数**。
> 自动进行缓冲管理

> 标准IO库提供了三种类型的缓冲：
>- 全缓冲，在填满标准IO缓冲区后才执行实际IO操作。注意**flush操作**
>- 行缓冲，当输入和输出中遇到换行符时，执行IO操作。注意**两个限制**
>- 不带缓冲，**标准错误流**

## 5.5 打开流
### 摘录
> freopen一般用于将一个指定的文件打开为一个预定义的流：标准输入、标准输出和标准错误

> fdopen通常用于创建管道和网络通信通道函数返回的描述符

> type参数指定对IO流的读写方式。

## 5.6 读和写流
### 摘录
> 一旦打开了流，则可在3种不同类型的非格式化IO中进行选择，对其进行读写操作。
>- 每次一个字符的IO。
>- 每次一行的IO，fgets，fputs
>- 直接IO，fread，fwrite

> 函数getchar等同于`getc(stdin);`

> getc和fgetc的区别：getc可被实现为宏，而fgetc不能。也就是说：
>- getc的参数不应当是具有副作用的表达式，因为它可能被计算多次
>- 因为fgetc一定是一个函数，所以可以得到其地址。这就允许将fgetc的地址作为一个参数传递给另一个函数。
>- 调用fgetc所需时间很可能比调用getc要长，因为调用函数所需的时间通常长于调用宏

## 5.7 每次一行IO
### 摘录
> 对于fgets，必须指定缓冲区的长度n。此函数一直读到写一个换行符为止，但是不超过n-1个字符，读入的字符被送入缓冲区，该缓冲区以nullz字节结尾。**缓冲区总是以null字节结尾**。

> 如果总是使用fgets和fputs，那么就会熟知在每行终止处我们必须自己处理换行符

## 5.8 标准IO的效率
## 5.9 二进制IO